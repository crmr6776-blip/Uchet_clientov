# MiniCRM Mobile (Uchet_clientov)

Мобильная CRM для Android, написанная на Kotlin + Jetpack Compose.  
Приложение помогает мастерам, сервисным центрам и небольшим компаниям вести учёт клиентов, заказов, сумм и долгов прямо с телефона, без облака и лишних подписок.

> Все данные и лицензия хранятся локально на устройстве.

---

## Основные возможности

- **Карточка клиента и заказа**
  - Имя, телефон
  - Стоимость работы, материалов и наценка
  - Оплачено, долг (автоматический расчёт)
  - Текстовая заметка
  - Рейтинг клиента (1–5 звёзд)

- **Статусы и вкладки**
  - Актуальные заказы
  - Должники
  - В работе
  - Завершённые

- **Медиа-заметки**
  - Запись голосовой заметки прямо из карточки клиента
  - Фото и видео, привязанные к заказу
  - Открытие последних медиафайлов по конкретному заказу

- **Экспорт и отчёты**
  - Сводка по месяцам: количество заказов, оборот, оплачено, долг
  - Экспорт в CSV — отправка в WhatsApp / Telegram / почту → Excel / Google Sheets

- **Лицензирование**
  - Пробный период 7 дней
  - Лицензионный код (M1 / M3 / M6 / M12) привязан к `Device ID`
  - Вся логика лицензии работает без сервера

- **Защита доступа**
  - Раздел `Admin / Service` закрыт PIN-кодом (по умолчанию `1234`)
  - В админ-разделе: информация по лицензии, Device ID, демо-данные, экспорт и очистка базы

---

## Кому подходит

Приложение универсальное и может использоваться:

- мастерскими и сервисными центрами (ремонт смартфонов, ноутбуков, бытовой техники и т.п.);
- частными мастерами и выездным ремонтом;
- мастерскими услуг (обувь, одежда, мебель, окна/двери и др.);
- фрилансерами и небольшими командами (монтаж видео, дизайн, СММ, настройка рекламы и т.д.).

Всё, где есть **клиенты + заказы + деньги**, можно вести через MiniCRM Mobile.

---

## Скриншоты

Скриншоты находятся в папке `img/` и используются на лендинге `index.html`.

- Список актуальных заказов
- Карточка клиента с медиа-заметками
- Экран `Admin / Service`
- Окно ввода лицензионного кода
- Окно отправки CSV-отчёта

---

## Установка APK

1. Скачайте файл `MiniCRMv2.apk` из раздела **Releases**  
   <!-- Или: с лендинга GitHub Pages, если он настроен -->
2. Скопируйте APK на телефон Android (или скачайте напрямую на устройство).
3. Разрешите установку приложений из «неизвестных источников» для выбранного файлового менеджера / браузера.
4. Установите приложение и запустите MiniCRM Mobile.
5. При первом запуске вам будет доступен **пробный период 7 дней**.

> В некоторых прошивках Android система может выводить предупреждение о приложении «не из Play Маркета».  
> Код открыто лежит в репозитории, логика проста: локальная база и лицензия, без доступа в интернет.

---

## Права (разрешения)

Приложение запрашивает только нужный минимум:

- `RECORD_AUDIO` — для записи голосовых заметок к заказу;
- `CAMERA` — для фото и видео прямо из карточки клиента.

Медиафайлы и голосовые заметки сохраняются в каталогах приложения:

- `…/Android/data/com.ugraremkomp.minicrm/files/voice_notes/…`
- `…/Android/data/com.ugraremkomp.minicrm/files/orders_media/order_<id>/…`

Текстовая база заказов хранится во внутреннем хранилище приложения и недоступна другим программам без root-доступа.

---

## Быстрый старт

1. Установите приложение и откройте его.
2. Добавьте первый заказ:
   - нажмите **`+`**;
   - заполните имя клиента, телефон (по желанию) и суммы;
   - при необходимости добавьте заметку и рейтинг.
3. Переведите заказ в статус «Завершён» через кнопку «Завершить» в карточке.
4. Зайдите в раздел **Admin / Service**, посмотрите:
   - тип лицензии;
   - до какого числа действует пробный период;
   - Device ID и кнопки для связи с разработчиком.

---

## Лицензия и покупка

1. Откройте раздел **Admin / Service**.
2. Скопируйте `Device ID`.
3. Свяжитесь с разработчиком по WhatsApp или Telegram:

   - WhatsApp: `https://wa.me/79107116072`
   - Telegram: `https://t.me/UgraRemKomp`

4. Укажите желаемый срок лицензии (M1 / M3 / M6 / M12).
5. После оплаты получите лицензионный код вида `M3-1A2B-3C4D` и введите его в приложении.

> Стоимость и условия лицензии уточняются индивидуально.

---

## Технические детали

- Язык: Kotlin
- UI: Jetpack Compose + Material 3
- Минимальная версия Android: **24** (Android 7.0)
- `compileSdk`: 34
- Локальное хранение заказов: JSON в `SharedPreferences` / файле (см. `Db.kt`)
- Медиа-файлы: `getExternalFilesDir(...)`, без доступа к общим папкам пользователя
- Лицензия: генерация и проверка кодов на основе `Device ID` и SALT

---

## Обратная связь и поддержка

Если нашли баг, есть идеи по доработке или нужен кастомный функционал под конкретный бизнес:

- создайте issue в этом репозитории;  
- или напишите в Telegram: [`@UgraRemKomp`](https://t.me/UgraRemKomp);  
- или в WhatsApp: `https://wa.me/79107116072`.

